<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATS Dashboard - JOBS Portal</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* =========================================
           1. CORE THEME & VARIABLES
           ========================================= */
        :root {
            --up-bg-color: #ffffff;
            --up-surface-color: #f8f9fa;
            --up-border-color: #e5e7eb;
            --up-primary-blue: #0d6efd;
            --up-text-main: #212529;
            --up-text-muted: #6c757d;
            --up-brand-orange: #fd7e14;
            --up-brand-orange-hover: #e36a0d;
            --up-success-green: #198754;
        }

        [data-theme="dark"] {
            --up-bg-color: #1a1d20;
            --up-surface-color: #212529;
            --up-border-color: #2c3035;
            --up-text-main: #f8f9fa;
            --up-text-muted: #adb5bd;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--up-surface-color);
            color: var(--up-text-main);
            transition: background-color 0.3s, color 0.3s;
        }

        /* =========================================
           2. NAVBAR (Consolidated Style)
           ========================================= */
        .up-navbar {
            background-color: var(--up-bg-color);
            border-bottom: 1px solid var(--up-border-color);
            padding: 10px 0;
            z-index: 1020;
            position: sticky;
            top: 0;
        }
        .up-navbar-brand-text {
            font-weight: 800; font-size: 1.5rem; color: var(--up-primary-blue) !important; letter-spacing: -0.5px; text-transform: uppercase; line-height: 1;
        }
        .up-nav-link { color: var(--up-text-muted) !important; font-weight: 500; margin: 0 8px; font-size: 0.95rem; }
        .up-nav-link:hover { color: var(--up-text-main) !important; }
        
        .up-btn-nav-blue { color: var(--up-primary-blue); border: 1px solid var(--up-primary-blue); border-radius: 6px; padding: 8px 16px; text-decoration: none; font-weight: 600; }
        .up-btn-nav-orange { background-color: var(--up-brand-orange); color: #fff; border: 1px solid var(--up-brand-orange); border-radius: 6px; padding: 8px 16px; text-decoration: none; font-weight: 600; }

        @media (max-width: 991.98px) {
            .navbar-brand { margin-right: 0; z-index: 20; position: relative; }
            .up-mobile-brand-center { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); z-index: 10; pointer-events: none; }
            .mobile-btn-group { display: flex; align-items: center; margin-left: auto; gap: 2px; z-index: 30; position: relative; }
            .mobile-nav-btn { background: transparent; border: none; color: var(--up-text-main); width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; }
            .navbar-collapse { position: absolute; top: 100%; left: 0; width: 100%; background-color: var(--up-bg-color); border-bottom: 1px solid var(--up-border-color); padding: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
            .navbar-toggler-icon { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgb(253, 126, 20)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important; }
            .up-mobile-stack-btn { width: 100%; margin-bottom: 10px; text-align: center; display: block; }
        }

        /* =========================================
           3. ATS DASHBOARD STYLES
           ========================================= */
        .ats-container {
            padding: 40px 0;
            min-height: 85vh;
        }

        /* Stats Cards */
        .ats-stat-card {
            background-color: var(--up-bg-color);
            padding: 25px 20px;
            border-radius: 12px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.03);
            display: flex;
            align-items: center;
            gap: 20px;
            border: 1px solid var(--up-border-color);
            transition: transform 0.2s ease;
            height: 100%;
        }
        .ats-stat-card:hover { transform: translateY(-3px); }
        
        .ats-stat-icon {
            width: 55px; height: 55px;
            border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.6rem; flex-shrink: 0;
        }

        /* Color Utilities */
        .border-left-blue { border-left: 4px solid #3b82f6; }
        .bg-blue-soft { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }
        
        .border-left-orange { border-left: 4px solid #f97316; }
        .bg-orange-soft { background: rgba(249, 115, 22, 0.1); color: #f97316; }
        
        .border-left-purple { border-left: 4px solid #8b5cf6; }
        .bg-purple-soft { background: rgba(139, 92, 246, 0.1); color: #8b5cf6; }
        
        .border-left-green { border-left: 4px solid #10b981; }
        .bg-green-soft { background: rgba(16, 185, 129, 0.1); color: #10b981; }

        /* Main Card & Tabs */
        .ats-card {
            background-color: var(--up-bg-color);
            border: 1px solid var(--up-border-color);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.02);
        }

        .ats-tabs {
            border-bottom: 1px solid var(--up-border-color);
            padding: 0 20px;
            background-color: var(--up-surface-color);
            flex-wrap: nowrap;
            overflow-x: auto;
            white-space: nowrap;
            /* Hide scrollbar */
            scrollbar-width: none; 
        }
        .ats-tabs::-webkit-scrollbar { display: none; }

        .ats-tabs .nav-link {
            color: var(--up-text-muted);
            font-weight: 600;
            padding: 18px 20px;
            border: none;
            border-bottom: 3px solid transparent;
            font-size: 0.95rem;
        }
        .ats-tabs .nav-link:hover { color: var(--up-primary-blue); }
        .ats-tabs .nav-link.active {
            color: var(--up-primary-blue);
            border-bottom: 3px solid var(--up-primary-blue);
            background: transparent;
        }

        /* Table */
        .ats-table th {
            font-weight: 600;
            color: var(--up-text-muted);
            font-size: 0.8rem;
            text-transform: uppercase;
            padding: 15px 20px;
            background-color: var(--up-surface-color);
            border-bottom: 1px solid var(--up-border-color);
            white-space: nowrap;
        }
        [data-theme="dark"] .ats-table th { background-color: #2c3035; }

        .ats-table td {
            padding: 15px 20px;
            vertical-align: middle;
            color: var(--up-text-main);
            border-bottom: 1px solid var(--up-border-color);
            background-color: var(--up-bg-color);
        }

        .ats-avatar {
            width: 40px; height: 40px;
            border-radius: 50%;
            object-fit: cover;
            background-color: #e9ecef;
            display: flex; align-items: center; justify-content: center;
            font-weight: 700; color: #666; font-size: 0.9rem;
        }

        /* Status Badges */
        .badge-status { padding: 6px 12px; border-radius: 30px; font-weight: 600; font-size: 0.75rem; }
        
        /* Action Buttons */
        .action-btn {
            width: 32px; height: 32px;
            border-radius: 6px;
            border: 1px solid var(--up-border-color);
            background: transparent;
            color: var(--up-text-muted);
            display: inline-flex; align-items: center; justify-content: center;
            transition: 0.2s;
        }
        .action-btn:hover { background-color: var(--up-primary-blue); color: white; border-color: var(--up-primary-blue); }

        /* Modal Styles */
        .modal-content { background-color: var(--up-bg-color); border: 1px solid var(--up-border-color); color: var(--up-text-main); }
        .modal-header { border-bottom: 1px solid var(--up-border-color); }
        .modal-footer { border-top: 1px solid var(--up-border-color); }
        .btn-close { filter: var(--up-text-main) == '#f8f9fa' ? invert(1) : none; }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg sticky-top up-navbar">
        <div class="container-fluid px-3 px-lg-5 position-relative">
            <a class="navbar-brand d-flex align-items-center me-0" href="#">
                <img src="https://via.placeholder.com/40/0d6efd/ffffff?text=J" alt="Logo" class="rounded-circle me-2" width="38" height="38">
                <span class="up-navbar-brand-text d-none d-lg-block">JOBS</span>
            </a>

            <div class="up-mobile-brand-center d-lg-none">
                <span class="up-navbar-brand-text">JOBS</span>
            </div>

            <div class="mobile-btn-group d-lg-none">
                <button class="navbar-toggler mobile-nav-btn me-1" type="button" id="mobileHamburgerBtn">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <button class="mobile-nav-btn" type="button" id="jobsMoreBtn">
                    <i class="bi bi-three-dots-vertical fs-4"></i>
                </button>
            </div>

            <div class="collapse navbar-collapse" id="upMainNavbar">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0 text-center text-lg-start">
                    <li class="nav-item"><a class="nav-link up-nav-link" href="#">Home</a></li>
                    <li class="nav-item"><a class="nav-link up-nav-link" href="#">ATS</a></li>
                    <li class="nav-item"><a class="nav-link up-nav-link" href="#">Resume Search</a></li>
                </ul>
                <div class="d-flex flex-column flex-lg-row align-items-center gap-2 mt-3 mt-lg-0">
                    <a href="#" class="up-btn-nav-blue up-mobile-stack-btn w-100 w-lg-auto">Recruiter Dashboard</a>
                    <button id="jobsThemeToggle" class="btn border-0 p-0 d-none d-lg-block ms-2" style="color: var(--up-text-main);">
                        <i class="bi bi-moon-fill fs-5" id="jobsThemeIcon"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="mobile-more-menu d-lg-none position-fixed bg-white shadow rounded p-2" id="jobsMoreMenu" style="top:65px; right:15px; width:160px; z-index:1060; display:none;">
        <a href="javascript:void(0)" id="mobileJobsThemeToggle" class="d-flex justify-content-between align-items-center text-decoration-none text-dark p-2">
            <span>Toggle Theme</span>
            <i class="bi bi-moon-fill" id="mobileJobsThemeIcon"></i>
        </a>
    </div>

    <div class="ats-container">
        <div class="container">
            
            <div class="d-flex flex-column flex-md-row justify-content-between align-items-center mb-5 gap-3">
                <div>
                    <h2 class="fw-bold mb-1">Applicant Tracking System</h2>
                    <p class="text-muted mb-0">Manage candidates and schedule interviews efficiently.</p>
                </div>
                <button class="up-btn-nav-orange">
                    <i class="bi bi-plus-lg me-2"></i> Post New Job
                </button>
            </div>

            <div class="row g-4 mb-5">
                <div class="col-sm-6 col-lg-3">
                    <div class="ats-stat-card border-left-blue">
                        <div class="ats-stat-icon bg-blue-soft"><i class="bi bi-inbox-fill"></i></div>
                        <div>
                            <h2 class="fw-bold mb-0">156</h2>
                            <span class="text-muted small">Received</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="ats-stat-card border-left-orange">
                        <div class="ats-stat-icon bg-orange-soft"><i class="bi bi-search"></i></div>
                        <div>
                            <h2 class="fw-bold mb-0">42</h2>
                            <span class="text-muted small">Screening</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="ats-stat-card border-left-purple">
                        <div class="ats-stat-icon bg-purple-soft"><i class="bi bi-calendar-event-fill"></i></div>
                        <div>
                            <h2 class="fw-bold mb-0">18</h2>
                            <span class="text-muted small">Interviews</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="ats-stat-card border-left-green">
                        <div class="ats-stat-icon bg-green-soft"><i class="bi bi-check-circle-fill"></i></div>
                        <div>
                            <h2 class="fw-bold mb-0">12</h2>
                            <span class="text-muted small">Selected</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ats-card">
                
                <ul class="nav nav-tabs ats-tabs" id="atsTab" role="tablist">
                    <li class="nav-item">
                        <button class="nav-link active" onclick="filterTable('all', this)">All Applicants</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" onclick="filterTable('Received', this)">Received</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" onclick="filterTable('Screening', this)">Screening</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" onclick="filterTable('Interview', this)">Interview</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" onclick="filterTable('Selected', this)">Selected</button>
                    </li>
                </ul>

                <div class="p-3 border-bottom d-flex gap-3 bg-light" style="background-color: var(--up-bg-color) !important;">
                    <input type="text" class="form-control form-control-sm" placeholder="Search candidate..." style="max-width: 250px;">
                    <select class="form-select form-select-sm" style="max-width: 180px;">
                        <option>All Jobs</option>
                        <option>Laravel Developer</option>
                        <option>UI/UX Designer</option>
                    </select>
                </div>

                <div class="table-responsive">
                    <table class="table ats-table mb-0" id="candidateTable">
                        <thead>
                            <tr>
                                <th class="ps-4">Candidate Name</th>
                                <th>Applied For</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th class="text-end pe-4">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-status="Received">
                                <td class="ps-4">
                                    <div class="d-flex align-items-center">
                                        <img src="https://randomuser.me/api/portraits/men/32.jpg" class="ats-avatar me-3" alt="User">
                                        <div>
                                            <h6 class="fw-bold mb-0" style="font-size:0.9rem;">David Miller</h6>
                                            <small class="text-muted" style="font-size:0.8rem;">david.m@example.com</small>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="fw-medium">Backend Developer</span></td>
                                <td class="text-muted small">Oct 24, 2025</td>
                                <td><span class="badge-status bg-blue-soft">Received</span></td>
                                <td class="text-end pe-4">
                                    <button class="action-btn" title="View Profile"><i class="bi bi-eye"></i></button>
                                    <button class="action-btn" title="Message" onclick="openMessageModal('David Miller')"><i class="bi bi-chat-dots"></i></button>
                                    <button class="action-btn" title="Schedule Interview" onclick="openScheduleModal('David Miller')"><i class="bi bi-calendar-plus"></i></button>
                                </td>
                            </tr>

                            <tr data-status="Screening">
                                <td class="ps-4">
                                    <div class="d-flex align-items-center">
                                        <img src="https://randomuser.me/api/portraits/women/44.jpg" class="ats-avatar me-3" alt="User">
                                        <div>
                                            <h6 class="fw-bold mb-0" style="font-size:0.9rem;">Sarah Jenkins</h6>
                                            <small class="text-muted" style="font-size:0.8rem;">sarah.j@example.com</small>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="fw-medium">UI/UX Designer</span></td>
                                <td class="text-muted small">Oct 22, 2025</td>
                                <td><span class="badge-status bg-orange-soft">Screening</span></td>
                                <td class="text-end pe-4">
                                    <button class="action-btn"><i class="bi bi-eye"></i></button>
                                    <button class="action-btn" onclick="openMessageModal('Sarah Jenkins')"><i class="bi bi-chat-dots"></i></button>
                                    <button class="action-btn" onclick="openScheduleModal('Sarah Jenkins')"><i class="bi bi-calendar-plus"></i></button>
                                </td>
                            </tr>

                            <tr data-status="Interview">
                                <td class="ps-4">
                                    <div class="d-flex align-items-center">
                                        <div class="ats-avatar me-3 text-primary bg-light">MJ</div>
                                        <div>
                                            <h6 class="fw-bold mb-0" style="font-size:0.9rem;">Michael Johnson</h6>
                                            <small class="text-muted" style="font-size:0.8rem;">mike.j@example.com</small>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="fw-medium">Product Manager</span></td>
                                <td class="text-muted small">Oct 20, 2025</td>
                                <td><span class="badge-status bg-purple-soft">Interview</span></td>
                                <td class="text-end pe-4">
                                    <button class="action-btn"><i class="bi bi-eye"></i></button>
                                    <button class="action-btn" onclick="openMessageModal('Michael Johnson')"><i class="bi bi-chat-dots"></i></button>
                                    <button class="action-btn" onclick="openScheduleModal('Michael Johnson')"><i class="bi bi-calendar-plus"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="scheduleModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content rounded-4 border-0 shadow">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold">Schedule Interview</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <p class="text-muted mb-3">Scheduling for: <strong id="scheduleCandidateName" class="text-dark"></strong></p>
                    <div class="mb-3">
                        <label class="form-label small fw-bold text-muted">Date</label>
                        <input type="date" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label small fw-bold text-muted">Time</label>
                        <input type="time" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label small fw-bold text-muted">Interview Link (Google Meet/Zoom)</label>
                        <input type="text" class="form-control" placeholder="https://meet.google.com/...">
                    </div>
                </div>
                <div class="modal-footer border-0 pt-0">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary px-4">Send Invite</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="messageModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content rounded-4 border-0 shadow">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold">Send Message</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <p class="text-muted mb-2">To: <strong id="messageCandidateName" class="text-dark"></strong></p>
                    <textarea class="form-control" rows="4" placeholder="Type your message here..."></textarea>
                </div>
                <div class="modal-footer border-0 pt-0">
                    <button type="button" class="btn btn-primary px-4 w-100">Send</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            
            // --- 1. TABLE FILTERING LOGIC ---
            window.filterTable = function(status, btnElement) {
                // Update Tabs UI
                document.querySelectorAll('.ats-tabs .nav-link').forEach(el => el.classList.remove('active'));
                btnElement.classList.add('active');

                // Filter Rows
                const rows = document.querySelectorAll('#candidateTable tbody tr');
                rows.forEach(row => {
                    if (status === 'all' || row.getAttribute('data-status') === status) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            }

            // --- 2. MODAL LOGIC ---
            const scheduleModal = new bootstrap.Modal(document.getElementById('scheduleModal'));
            const messageModal = new bootstrap.Modal(document.getElementById('messageModal'));

            window.openScheduleModal = function(name) {
                document.getElementById('scheduleCandidateName').textContent = name;
                scheduleModal.show();
            }

            window.openMessageModal = function(name) {
                document.getElementById('messageCandidateName').textContent = name;
                messageModal.show();
            }

            // --- 3. NAVBAR & THEME LOGIC (Standard) ---
            const navbarCollapse = document.getElementById("upMainNavbar");
            const hamburgerBtn = document.getElementById("mobileHamburgerBtn");
            const desktopThemeBtn = document.getElementById("jobsThemeToggle");
            
            function applyTheme(theme) {
                document.documentElement.setAttribute("data-theme", theme);
                const icon = document.getElementById("jobsThemeIcon");
                if(icon) icon.className = theme === "dark" ? "bi bi-sun-fill text-warning fs-5" : "bi bi-moon-fill text-dark fs-5";
            }

            const current = localStorage.getItem("jobs_theme") || "light";
            applyTheme(current);

            desktopThemeBtn?.addEventListener('click', function(e) {
                e.preventDefault();
                const newTheme = document.documentElement.getAttribute("data-theme") === "dark" ? "light" : "dark";
                localStorage.setItem("jobs_theme", newTheme);
                applyTheme(newTheme);
            });

            hamburgerBtn?.addEventListener('click', function (e) {
                e.preventDefault(); e.stopPropagation();
                navbarCollapse.classList.toggle('show');
            });
        });
    </script>
</body>
</html>